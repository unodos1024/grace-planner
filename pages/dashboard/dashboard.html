<div class="dashboard-page-wrapper">
    <!-- Stats Overview -->
    <div id="admin-view-overview" class="admin-view active">
        <div class="admin-stats-grid">
            <div class="gw-card stat-card">
                <div class="stat-value" id="admin-stat-total">0</div>
                <div class="stat-label">활동 훈련생</div>
            </div>
            <div class="gw-card stat-card">
                <div class="stat-value" id="admin-stat-pending" style="color: var(--accent);">0</div>
                <div class="stat-label">승인 대기</div>
            </div>
        </div>

        <!-- Pending Approvals -->
        <div id="admin-pending-section" class="hidden" style="margin-bottom: 32px;">
            <div class="section-header">
                <h3 class="section-title">가입 승인 대기</h3>
            </div>
            <div class="member-list" id="admin-pending-list"></div>
        </div>

        <!-- Cohort Management -->
        <div class="cohort-section">
            <div class="section-header">
                <h3 class="section-title">기수별 현황</h3>
            </div>
            <div class="cohort-filter-scroll" id="admin-cohort-filters"></div>
            <div class="member-list" id="admin-cohort-list"></div>
        </div>
    </div>

    <!-- Prayer Requests View -->
    <div id="admin-view-prayers" class="admin-view hidden">
        <div class="section-header">
            <h3 class="section-title">기도 제목 나눔</h3>
        </div>
        <div class="cohort-filter-scroll" id="admin-prayers-filters" style="margin-bottom: 16px;"></div>
        <div id="admin-prayers-list"></div>
    </div>

    <!-- Advanced Schedule Management View -->
    <div id="admin-view-schedule" class="admin-view hidden">
        <div class="section-header">
            <h3 class="section-title">일정 관리 시스템</h3>
            <div class="view-switcher"
                style="background: var(--bg-surface); padding: 4px; border-radius: 12px; display: flex; gap: 4px;">
                <button class="switcher-btn active" id="subview-general" onclick="switchScheduleMode('general')"
                    style="border:none; background:white; font-weight:700; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">일반
                    일정</button>
                <button class="switcher-btn" id="subview-training" onclick="switchScheduleMode('training')"
                    style="border:none; background:transparent; font-weight:600;">훈련 일정</button>
            </div>
        </div>

        <!-- 1. General Church Schedule (Calendar/List) -->
        <div id="panel-general-schedule">
            <div style="display: flex; justify-content: flex-end; margin-bottom: 12px;">
                <div class="view-switcher">
                    <button class="switcher-btn active" id="view-mode-calendar"
                        onclick="switchScheduleView('calendar')">
                        <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor"
                            stroke-width="2.5">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                            <line x1="16" y1="2" x2="16" y2="6" />
                            <line x1="8" y1="2" x2="8" y2="6" />
                            <line x1="3" y1="10" x2="21" y2="10" />
                        </svg>
                        <span>캘린더</span>
                    </button>
                    <button class="switcher-btn" id="view-mode-list" onclick="switchScheduleView('list')">
                        <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor"
                            stroke-width="2.5">
                            <line x1="8" y1="6" x2="21" y2="6" />
                            <line x1="8" y1="12" x2="21" y2="12" />
                            <line x1="8" y1="18" x2="21" y2="18" />
                            <line x1="3" y1="6" x2="3.01" y2="6" />
                            <line x1="3" y1="12" x2="3.01" y2="12" />
                            <line x1="3" y1="18" x2="3.01" y2="18" />
                        </svg>
                        <span>목록</span>
                    </button>
                </div>
            </div>

            <!-- Filter & Search Bar -->
            <div class="schedule-filter-bar">
                <div class="search-box">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5"
                        style="opacity: 0.4;">
                        <circle cx="11" cy="11" r="8" />
                        <path d="M21 21l-4.35-4.35" />
                    </svg>
                    <input type="text" id="schedule-search" placeholder="일정, 담당자 검색..." oninput="filterSchedules()">
                </div>
                <select id="schedule-category-filter" class="filter-select" onchange="filterSchedules()">
                    <option value="all">모든 구분</option>
                    <option value="WORSHIP">예배</option>
                    <option value="PRAYER">수요기도회</option>
                    <option value="MISSION">선교</option>
                    <option value="EVENT">행사</option>
                    <option value="MEETING">모임</option>
                </select>
            </div>

            <!-- Main Display Areas -->
            <div id="schedule-calendar-wrapper" class="schedule-container">
                <div class="calendar-header">
                    <div class="calendar-nav">
                        <button class="cal-nav-btn" onclick="moveCalendarMonth(-1)">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor"
                                stroke-width="3">
                                <path d="M15 18l-6-6 6-6" />
                            </svg>
                        </button>
                        <h4 id="calendar-month-year">2026.02</h4>
                        <button class="cal-nav-btn" onclick="moveCalendarMonth(1)">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor"
                                stroke-width="3">
                                <path d="M9 18l6-6-6-6" />
                            </svg>
                        </button>
                    </div>
                    <button class="gw-btn-secondary" style="padding: 8px 12px; font-size: 12px;"
                        onclick="goToToday()">Today</button>
                </div>
                <div id="calendar-grid" class="calendar-grid-layout">
                    <!-- Days will be injected here -->
                </div>
            </div>

            <div id="schedule-list-wrapper" class="schedule-container hidden">
                <div id="admin-schedule-list" class="advanced-list">
                    <!-- List items injected here -->
                </div>
            </div>

            <!-- FAB for New Schedule -->
            <button class="floating-add-btn" id="btn-add-general" onclick="window.openScheduleForm()" title="새 일정 추가">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round"
                    stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
                <span class="fab-label">새 일정</span>
            </button>
        </div> <!-- End of panel-general-schedule -->

        <!-- 2. Discipleship Training Schedule (Smart Importer) -->
        <div id="panel-training-schedule" class="hidden">
            <div class="gw-card" style="padding: 20px; margin-bottom: 20px;">
                <h4
                    style="font-size: 16px; font-weight: 800; margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
                    <span style="background: var(--primary); width: 8px; height: 16px; border-radius: 4px;"></span>
                    32주 훈련 일정 마스터 관리
                </h4>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                    <div class="gw-input-group" style="margin:0;">
                        <label class="gw-label">훈련 기수</label>
                        <select id="dash-admin-cohort-select" class="journal-input">
                            <option>제자반 26기</option>
                            <option>제자반 25기</option>
                        </select>
                    </div>
                    <div class="gw-input-group" style="margin:0;">
                        <label class="gw-label">개강 주일 날짜 (패턴 기준)</label>
                        <input type="date" id="dash-admin-start-date" class="journal-input" value="2026-02-08">
                    </div>
                </div>

                <div class="gw-input-group">
                    <label class="gw-label">🚀 엑셀/테이블 데이터 붙여넣기 (스마트 인포터)</label>
                    <textarea id="dash-admin-paste-zone" class="admin-paste-area"
                        placeholder="엑셀에서 1주차~32주차 데이터를 복사해서 여기에 붙여넣으세요 (Ctrl+V)"></textarea>
                    <p style="font-size: 11px; color: var(--text-soft); margin-top: 6px;">* 팁: 주차, 일시, 공과주제, 필독서 순서의 탭
                        구분 데이터를 자동으로 인식합니다.</p>
                </div>

                <div id="dash-admin-preview-container" class="hidden">
                    <div class="admin-table-scroll"
                        style="margin-top: 16px; border: 1px solid var(--border-subtle); border-radius: 12px;">
                        <table class="admin-edit-table" style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr>
                                    <th style="width: 60px;">주차</th>
                                    <th style="width: 80px;">날짜</th>
                                    <th>공과 주제</th>
                                    <th>필독서 / 과제</th>
                                </tr>
                            </thead>
                            <tbody id="dash-admin-preview-body">
                                <!-- JS Injected -->
                            </tbody>
                        </table>
                    </div>
                    <button class="btn-full-action" style="margin-top: 24px; height: 56px; font-size: 16px;"
                        onclick="saveDashTrainingSchedule()">
                        위 계힉으로 32주 훈련 일정 한꺼번에 게시하기
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 📊 Statistics Dashboard View -->
    <div id="admin-view-stats" class="admin-view hidden">
        <div class="section-header">
            <h3 class="section-title">훈련 참여 통계 리포트</h3>
        </div>

        <div id="admin-sermon-dashboard" style="display: flex; flex-direction: column; gap: 20px; margin-bottom: 32px;">
            <!-- 1. KPI Cards Row -->
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                <div class="gw-card"
                    style="padding: 20px; text-align: center; background: linear-gradient(135deg, #E8F5E9 0%, #FFFFFF 100%);">
                    <div style="font-size: 13px; color: #2E7D32; font-weight: 700; margin-bottom: 8px;">이번 주 참여율
                    </div>
                    <div id="sermon-kpi-rate" style="font-size: 28px; font-weight: 800; color: #1B5E20;">0%</div>
                </div>
                <div class="gw-card"
                    style="padding: 20px; text-align: center; background: linear-gradient(135deg, #E3F2FD 0%, #FFFFFF 100%);">
                    <div style="font-size: 13px; color: #1976D2; font-weight: 700; margin-bottom: 8px;">누적 요약수</div>
                    <div id="sermon-kpi-total" style="font-size: 28px; font-weight: 800; color: #0D47A1;">0건</div>
                </div>
            </div>

            <!-- 2. Main Weekly Chart -->
            <div id="admin-sermon-stats-container" class="gw-card"
                style="padding: 24px; background: white; border: 1px solid var(--border-subtle);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                    <div>
                        <h4 style="font-size: 16px; font-weight: 700; color: var(--text-main); margin: 0;">주차별 참여 인원
                            추이
                        </h4>
                        <p style="font-size: 12px; color: var(--text-soft); margin-top: 4px;">지난 6주간의 데이터 분석</p>
                    </div>
                </div>
                <div id="admin-sermon-chart-wrapper"
                    style="height: 180px; display: flex; align-items: flex-end; gap: 16px; padding: 0 10px 10px;">
                    <!-- Bars injected via JS -->
                </div>
            </div>

            <!-- 3. Type Distribution (Sunday/Wed) -->
            <div id="admin-sermon-type-dist" class="gw-card"
                style="padding: 20px; display: flex; align-items: center; justify-content: space-around; background: #FAFAFC;">
                <div style="text-align: center;">
                    <div style="font-size: 12px; color: var(--text-soft); font-weight: 600; margin-bottom: 4px;">
                        주일설교
                    </div>
                    <div id="stats-type-sunday" style="font-size: 18px; font-weight: 700; color: #1976D2;">0</div>
                </div>
                <div style="width: 1px; height: 30px; background: var(--border-subtle);"></div>
                <div style="text-align: center;">
                    <div style="font-size: 12px; color: var(--text-soft); font-weight: 600; margin-bottom: 4px;">
                        수요소식
                    </div>
                    <div id="stats-type-wed" style="font-size: 18px; font-weight: 700; color: #7B1FA2;">0</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Member Management View -->
    <div id="admin-view-members" class="admin-view hidden">
        <div class="section-header">
            <h3 class="section-title">회원 명부 관리</h3>
        </div>
        <div class="cohort-filter-scroll" id="admin-members-filters"></div>
        <div id="admin-members-list" class="member-list"></div>
    </div>

    <!-- Notices Management View -->
    <!-- Notices Management View -->
    <div id="admin-view-notices" class="admin-view hidden">
        <div class="section-header">
            <h3 class="section-title">알림 센터 관리</h3>
        </div>
        <div id="admin-notices-list" class="member-list" style="padding-bottom: 80px;"></div>

        <!-- Floating Action Button for New Notice -->
        <button class="floating-write-btn" onclick="openNoticeModal()"
            style="position: fixed; bottom: 24px; right: 24px; width: 56px; height: 56px; border-radius: 28px; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.3); border: none; cursor: pointer; z-index: 1000;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round"
                stroke-linejoin="round" style="width: 24px; height: 24px;">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        </button>
    </div>

    <!-- Admin Settings View -->
    <div id="admin-view-settings" class="admin-view hidden">
        <div class="section-header">
            <h2 class="section-title">관리자 설정</h2>
        </div>
        <div class="gw-card">
            <h3 class="gw-card-title">목회자 전용 기능</h3>
            <p class="gw-card-desc">추가적인 관리 기능을 준비 중입니다.</p>
        </div>
    </div>
</div>

<!-- Member Edit Modal (Moved to #modal-root by JS) -->
<div id="admin-member-modal" class="modal-overlay" onclick="closeAdminMemberModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <header class="modal-header">
            <h2 class="modal-title">회원 정보 수정</h2>
        </header>

        <div class="modal-body">
            <input type="hidden" id="edit-member-id">

            <div class="input-group">
                <label>이름 / 직분</label>
                <div style="display: flex; gap: 8px;">
                    <input type="text" id="edit-member-name" class="journal-input" placeholder="이름 입력" style="flex: 2;">
                    <select id="edit-member-role-title" class="journal-input" style="flex: 1; min-width: 80px;">
                        <option value="성도">성도</option>
                        <option value="집사">집사</option>
                        <option value="권사">권사</option>
                        <option value="장로">장로</option>
                    </select>
                </div>
            </div>

            <div class="input-group">
                <label>생년월일 (예: 2000-01-01)</label>
                <input type="text" id="edit-member-birth" class="journal-input" placeholder="YYYY-MM-DD" maxlength="10">
            </div>

            <div class="input-group">
                <label>전화번호 (예: 010-1234-5678)</label>
                <input type="tel" id="edit-member-phone" class="journal-input" placeholder="010-XXXX-XXXX">
            </div>

            <div class="input-group">
                <label>기수 (숫자만)</label>
                <input type="number" id="edit-member-cohort" class="journal-input" placeholder="기수 입력">
            </div>

            <div style="margin-top: 32px; display: flex; gap: 12px;">
                <button class="btn-full-action" style="flex: 1; background: #FF3B30;"
                    onclick="deleteMember()">삭제</button>
                <button class="btn-full-action" style="flex: 2;" onclick="saveMemberChanges()">수정</button>
            </div>
        </div>
    </div>

    <!-- History List Modal -->
    <div id="admin-history-list-modal" class="modal-overlay" onclick="closeAdminHistoryListModal()">
        <div class="modal-content" style="max-width: 550px;" onclick="event.stopPropagation()">
            <header class="modal-header">
                <h2 class="modal-title" id="admin-history-list-title">기록 내역</h2>
                <button onclick="closeAdminHistoryListModal()"
                    style="background:none; border:none; color:var(--text-soft); cursor:pointer;">
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12" />
                    </svg>
                </button>
            </header>
            <div class="modal-body">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                    <div id="admin-history-user-avatar"
                        style="width: 40px; height: 40px; border-radius: 12px; background: var(--bg-main); display: flex; align-items: center; justify-content: center; font-weight: 800; color: var(--primary); font-size: 16px;">
                        -</div>
                    <div>
                        <div id="admin-history-user-name"
                            style="font-size: 16px; font-weight: 700; color: var(--text-main);">사용자</div>
                        <div id="admin-history-info"
                            style="font-size: 12px; color: var(--text-soft); font-weight: 600;">기수</div>
                    </div>
                </div>
                <div id="admin-history-items-container"
                    style="display: flex; flex-direction: column; gap: 8px; max-height: 50vh; overflow-y: auto;">
                    <!-- Items injected via JS -->
                </div>
                <button class="btn-full-action" onclick="closeAdminHistoryListModal()"
                    style="margin-top: 24px;">닫기</button>
            </div>
        </div>
    </div>

    <!-- Content Detail Modal -->
    <div id="admin-content-detail-modal" class="modal-overlay" onclick="closeAdminContentDetailModal()">
        <div class="modal-content" style="max-width: 600px;" onclick="event.stopPropagation()">
            <header class="modal-header">
                <h2 class="modal-title" id="admin-content-detail-title">상세 내용</h2>
                <button onclick="closeAdminContentDetailModal()"
                    style="background:none; border:none; color:var(--text-soft); cursor:pointer;">
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12" />
                    </svg>
                </button>
            </header>
            <div class="modal-body">
                <div
                    style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid var(--border-subtle);">
                    <div id="admin-detail-user-avatar"
                        style="width: 44px; height: 44px; border-radius: 14px; background: var(--primary-pale); display: flex; align-items: center; justify-content: center; font-weight: 800; color: var(--primary); font-size: 18px;">
                        -</div>
                    <div>
                        <div id="admin-detail-user-name"
                            style="font-size: 18px; font-weight: 700; color: var(--text-main);">사용자</div>
                        <div id="admin-detail-info" style="font-size: 13px; color: var(--text-soft); font-weight: 600;">
                            기수 | 날짜</div>
                    </div>
                </div>
                <div id="admin-detail-text"
                    style="font-size: 16px; line-height: 1.8; color: var(--text-main); white-space: pre-wrap; min-height: 200px; max-height: 50vh; overflow-y: auto; padding-right: 8px;">
                    내용이 여기에 표시됩니다.
                </div>
                <button class="btn-full-action" onclick="closeAdminContentDetailModal()"
                    style="margin-top: 32px;">닫기</button>
            </div>
        </div>
    </div>
</div> <!-- dashboard-page-wrapper closed here -->

<!-- Schedule Form Modal -->
<div id="schedule-form-modal" class="modal-overlay" onclick="closeScheduleForm()">
    <div class="modal-content" style="max-width: 600px;" onclick="event.stopPropagation()">
        <header class="modal-header">
            <h2 class="modal-title" id="schedule-modal-title">새 일정 등록</h2>
            <button onclick="closeScheduleForm()"
                style="background:none; border:none; color:var(--text-soft); cursor:pointer;">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6L6 18M6 6l12 12" />
                </svg>
            </button>
        </header>

        <div class="modal-body">
            <input type="hidden" id="edit-schedule-id">

            <div class="input-group">
                <label>일정 제목 (필수)</label>
                <input type="text" id="schedule-input-title" class="journal-input" placeholder="행사 및 일정 제목 입력">
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div class="input-group">
                    <label>일정 구분</label>
                    <select id="schedule-input-category" class="journal-input">
                        <option value="WORSHIP">예배</option>
                        <option value="PRAYER">수요기도회</option>
                        <option value="MISSION">선교</option>
                        <option value="EVENT">행사</option>
                        <option value="MEETING">모임</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>공개 여부</label>
                    <div style="display: flex; align-items: center; gap: 12px; height: 52px; padding-left: 4px;">
                        <span id="label-toggle-public"
                            style="font-size: 14px; font-weight: 700; color: var(--primary);">공개</span>
                        <div class="toggle-switch" onclick="toggleSchedulePublic()">
                            <input type="checkbox" id="schedule-input-public" checked style="display:none;">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div class="input-group">
                    <label>시작 일시</label>
                    <input type="datetime-local" id="schedule-input-start" class="journal-input">
                </div>
                <div class="input-group">
                    <label>종료 일시</label>
                    <input type="datetime-local" id="schedule-input-end" class="journal-input">
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div class="input-group">
                    <label>장소</label>
                    <input type="text" id="schedule-input-location" class="journal-input" placeholder="장소 입력 (예: 대예배실)">
                </div>
                <div class="input-group">
                    <label>담당자</label>
                    <input type="text" id="schedule-input-manager" class="journal-input" placeholder="담당자 성함">
                </div>
            </div>

            <div class="input-group">
                <label>썸네일 이미지</label>
                <div class="image-upload-zone" onclick="document.getElementById('schedule-file-input').click()">
                    <input type="file" id="schedule-file-input" hidden accept="image/*"
                        onchange="handleImagePreview(event)">
                    <div id="image-preview-container" class="hidden">
                        <img id="image-preview" src="" alt="Thumbnail">
                        <button class="remove-img-btn" onclick="event.stopPropagation(); removeImagePreview()">
                            <svg viewBox="0 0 24 24" width="16" height="16" fill="white" stroke="currentColor"
                                stroke-width="3">
                                <path d="M18 6L6 18M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    <div id="upload-placeholder" class="upload-placeholder">
                        <svg viewBox="0 0 24 24" width="32" height="32" fill="none" stroke="currentColor"
                            stroke-width="2" style="opacity:0.4;">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                            <circle cx="8.5" cy="8.5" r="1.5" />
                            <path d="M21 15l-5-5L5 21" />
                        </svg>
                        <span>클릭하거나 이미지를 드래그하여 업로드</span>
                        <span style="font-size:11px; opacity:0.5;">권장 사이즈: 1200 x 630 (px)</span>
                    </div>
                </div>
            </div>

            <div class="input-group">
                <label>상세 내용</label>
                <div class="rich-editor-box">
                    <div class="editor-toolbar">
                        <button type="button"><b>B</b></button>
                        <button type="button"><i>I</i></button>
                        <button type="button"><u>U</u></button>
                        <div class="sep"></div>
                        <button type="button">List</button>
                        <button type="button">Link</button>
                    </div>
                    <textarea id="schedule-input-desc" class="journal-textarea editor-content"
                        placeholder="행사 상세 정보나 안내 문구를 입력하세요..."></textarea>
                </div>
            </div>

            <div class="input-group">
                <label>관리자 메모 (비공개)</label>
                <input type="text" id="schedule-input-memo" class="journal-input" placeholder="내부 참고용 메모">
            </div>

            <div style="margin-top: 32px; display: flex; gap: 12px;">
                <button class="gw-btn-secondary" style="flex: 1;" onclick="closeScheduleForm()">취소</button>
                <button id="btn-delete-schedule" class="btn-full-action hidden" style="flex: 1; background: #FF3B30;"
                    onclick="deleteScheduleAction()">삭제</button>
                <button class="btn-full-action" style="flex: 2;" id="btn-save-schedule"
                    onclick="saveScheduleAction()">일정 저장하기</button>
            </div>
        </div>
    </div>
</div>

<!-- Notice Modal -->
<div id="notice-modal" class="modal-overlay" onclick="closeNoticeModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <header class="modal-header">
            <h2 class="modal-title" id="notice-modal-title">알림 작성</h2>
        </header>

        <input type="hidden" id="notice-input-id">

        <!-- Target Cohort Selection -->
        <div class="input-group">
            <label>대상 선택</label>
            <select id="notice-input-cohort" class="journal-input"
                style="background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23131313%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat; background-position: right 12px center; background-size: 10px;">
                <option value="all">전체 대상</option>
                <!-- Dynamically populated -->
            </select>
        </div>

        <div class="input-group">
            <label>제목</label>
            <input type="text" id="notice-input-title" class="journal-input" placeholder="제목을 입력하세요">
        </div>

        <div class="input-group">
            <label>내용</label>
            <textarea id="notice-input-content" class="journal-textarea"
                style="height: 300px; resize: none; padding: 12px; line-height: 1.6;"
                placeholder="알림 내용을 입력하세요..."></textarea>
        </div>

        <div style="display: flex; gap: 12px; margin-top: 8px;">
            <button id="btn-delete-notice-modal" class="btn-delete-modal hidden"
                onclick="deleteNoticeModalAction()">삭제하기</button>
            <button id="btn-save-notice" class="btn-full-action" style="flex: 2; margin-top: 0;"
                onclick="saveNotice()">등록하기</button>
        </div>
    </div>
    <!-- Schedule Detail Modal (Post View) -->
    <div id="schedule-detail-modal" class="modal-overlay" onclick="window.Utils.closeModal('schedule-detail-modal')">
        <div class="modal-content post-view-content" onclick="event.stopPropagation()">
            <div id="sch-detail-img-box" class="sch-detail-img-box hidden">
                <img id="sch-detail-img" src="" alt="Thumbnail">
            </div>
            <div class="sch-detail-body">
                <div id="sch-detail-category" class="sch-detail-cat-badge">EVENT</div>
                <h2 id="sch-detail-title" class="sch-detail-title">일정 제목</h2>
                <div class="sch-detail-meta">
                    <div class="meta-item">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor"
                            stroke-width="2.5">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                            <line x1="16" y1="2" x2="16" y2="6" />
                            <line x1="8" y1="2" x2="8" y2="6" />
                            <line x1="3" y1="10" x2="21" y2="10" />
                        </svg>
                        <span id="sch-detail-date">2026.02.16 - 2026.02.17</span>
                    </div>
                    <div class="meta-item">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor"
                            stroke-width="2.5">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                            <circle cx="12" cy="10" r="3" />
                        </svg>
                        <span id="sch-detail-location">장소 정보</span>
                    </div>
                    <div class="meta-item">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor"
                            stroke-width="2.5">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                            <circle cx="12" cy="7" r="4" />
                        </svg>
                        <span id="sch-detail-manager">담당자 이름</span>
                    </div>
                </div>
                <div id="sch-detail-content" class="sch-detail-content">
                    상세 내용이 여기에 표시됩니다.
                </div>
                <div
                    style="margin-top: 40px; border-top: 1px solid var(--border-subtle); padding-top: 24px; display: flex; gap: 12px;">
                    <button class="btn-full-action" style="background: var(--primary-pale); color: var(--primary);"
                        onclick="window.Utils.closeModal('schedule-detail-modal')">닫기</button>
                    <button id="btn-edit-from-detail" class="btn-full-action">내용 수정하기</button>
                </div>
            </div>
        </div>
    </div>

    <script src="../../js/pages/dashboard.js"></script>