<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>로그인 - Grace Planner</title>
    <link rel="stylesheet" href="../../css/common/reset.css">
    <link rel="stylesheet" href="../../css/common/theme.css">
    <link rel="stylesheet" href="../../css/common/layout.css">
    <link rel="stylesheet" href="../../css/common/auth.css">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'><path d='M48 0 L48 48 L0 48 L0 25 Z' fill='%237B964D'/><path d='M52 0 L100 25 L100 48 L52 48 Z' fill='%23C6997A'/><path d='M0 52 L48 52 L48 100 L0 75 Z' fill='%238B89C3'/><path d='M52 52 L100 52 L100 75 L52 100 Z' fill='%23637A2C'/></svg>">
    <!-- Social Login SDKs Removed -->
</head>

<body>
    <div id="auth-overlay" class="login-overlay active">
        <div class="login-container">
            <!-- Step 0: Login -->
            <div id="auth-step-login" class="auth-step active">
                <div class="login-character-area">
                    <div class="character-circle" style="background: transparent;">
                        <svg viewBox="0 0 100 100" style="width: 80px; height: 80px;">
                            <path d="M48 0 L48 48 L0 48 L0 25 Z" fill="#7B964D" />
                            <path d="M52 0 L100 25 L100 48 L52 48 Z" fill="#C6997A" />
                            <path d="M0 52 L48 52 L48 100 L0 75 Z" fill="#8B89C3" />
                            <path d="M52 52 L100 52 L100 75 L52 100 Z" fill="#637A2C" />
                        </svg>
                    </div>
                </div>
                <h1 class="login-prompt">은혜의 동행,<br>로그인해볼까요?</h1>
                <div class="login-form-container">
                    <input type="text" id="login-id" class="auth-input-light" placeholder="아이디"
                        oninput="checkLoginInput()">
                    <input type="password" id="login-pw" class="auth-input-light" placeholder="비밀번호"
                        oninput="checkLoginInput()">

                    <button class="btn-primary-auth active" id="btn-login" onclick="handleLoginSubmit()">로그인</button>

                    <p class="auth-switch-text">계정이 없으신가요? <span class="auth-link"
                            onclick="goToAuthStep('signup')">회원가입</span></p>
                </div>
            </div>

            <!-- Single Page Signup -->
            <div id="auth-step-signup" class="auth-step">
                <div class="signup-header">
                    <button class="btn-back" onclick="goToAuthStep('login')">
                        <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="login-prompt">프로필 작성</h1>
                </div>

                <div class="signup-scroll-container">
                    <!-- Role Selection -->
                    <div class="signup-section-card">
                        <label class="input-label">어떤 분이신가요?</label>
                        <div class="role-selector-group">
                            <button type="button" class="role-select-btn active" data-role="believer"
                                onclick="selectRole('believer')">훈련생</button>
                            <button type="button" class="role-select-btn" data-role="pastor"
                                onclick="selectRole('pastor')">목회자</button>
                        </div>
                    </div>

                    <div class="signup-section-card">
                        <label class="input-label">계정 설정</label>
                        <div class="input-group-vertical">
                            <input type="text" id="signup-id" class="auth-input-light" placeholder="사용하실 아이디를 입력해주세요"
                                oninput="checkSignupInput()">
                            <input type="password" id="signup-pw" class="auth-input-light" placeholder="비밀번호를 입력해주세요"
                                oninput="checkSignupInput()">
                        </div>
                    </div>

                    <div class="signup-section-card">
                        <label class="input-label">개인 정보</label>
                        <div class="input-group-vertical">
                            <input type="text" id="signup-name" class="auth-input-light" placeholder="실명을 입력해주세요"
                                oninput="checkSignupInput()">

                            <div id="believer-info-fields">
                                <input type="text" id="signup-birth" class="auth-input-light"
                                    placeholder="생년월일 (YYYY-MM-DD)" maxlength="10" oninput="formatBirthDate(this)">
                                <input type="tel" id="signup-phone" class="auth-input-light"
                                    placeholder="휴대폰 번호 (010-0000-0000)" maxlength="13"
                                    oninput="formatPhoneNumber(this)">
                            </div>
                        </div>
                    </div>
                </div>

                <button class="btn-primary-auth" id="btn-signup-confirm" disabled onclick="submitSignup()">은혜의 동행
                    시작하기</button>
            </div>

            <!-- Step 6: Final -->
            <div id="auth-step-final" class="auth-step">
                <div class="auth-check-icon" style="margin-top: 80px;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#2D6A4F" stroke-width="3">
                        <path d="M20 6L9 17l-5-5" />
                    </svg>
                </div>
                <h1 class="login-prompt">가입 신청 완료!</h1>
                <p style="color: #636366; line-height: 1.6; margin-bottom: 40px;">목회자님의 승인 후<br>정식으로 이용하실 수 있습니다.</p>
                <button class="btn-primary-auth active" onclick="location.reload()">확인</button>
            </div>
        </div>
    </div>

    <div id="confetti-container"></div>
    <script src="../../js/common/constants.js"></script>
    <script src="../../js/common/utils.js"></script>
    <script src="../../js/common/api.js"></script>
    <script src="../../js/common/navigation.js"></script>
    <script src="../../js/common/auth.js"></script>
    <script src="../../js/common/core.js"></script>
</body>

</html>